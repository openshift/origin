apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: add-gpg-pub-key
objects:
  - kind: MachineConfig
    apiVersion: machineconfiguration.openshift.io/v1
    metadata:
      name: "${NAME}"
      labels:
        machineconfiguration.openshift.io/role: "${POOL}"
    spec:
      config:
        ignition:
          version: 3.2.0
        storage:
          files:
          - contents:
              source: data:;base64,LS0tLS1CRUdJTiBQR1AgUFVCTElDIEtFWSBCTE9DSy0tLS0tCgptUUdOQkdHNFBDTUJEQURzVzVURjNpRFhJMWlRMkYvakZ0TlF5Z2V6bSszOFQra2tvWDYzTVIzN1pJZXVGUHN0CjdmNU95N0tWQTZWcXJFbGsrSytkWmFVekYyWXRvVXlDSGQ2aXdRTmNOSGJMVHA5dDJya2kvQjFjT1RjZHpRNGcKREhrcXNyTDY2Mm5HUHk2bStmdXM5NGtuY0Q2VjJZVmVJZm9lVi8raTROL2hsbU5aNnVKLzNyL1BJclQ2WWVHeApRYm0xRkM0Q1hEY1FCL1lqUFM2TUs5UE1tdy95eXdhTysrVUpYeGtkTjkrbXd2bUlla1JNdU1OZG1SY1dFSlZWCmJJZjlvVitwclBtS2lyWVVrY0lKVEs3YVYvRlBwNkplajVlMyszQmhuVnlCOFE2QVAwd3RPRTByM3hMdFN1SnIKZ1JZWm1qQThSSm82UXpTR0pFODBZTEFvRmRWb0N4TGFvQlFvVGppSjVvVjNyTzgySVV5c2U3M2gvQktudno5egpMQk1YNDB5WVY2b1lHcFE4eW9hY3dmVTh6b2k3WStmcnBnS1NGL2YrQ05oZ0w0Z2plbkp4NFg2SjZSMG1hY1RoCmFQdjJyb0NRdDJZenQ5Nys5NW1PWldMdkhtVDZNa01NVjdBWm5VVnozUkc4SDVUUk81RmJtZGdFM29vUm56OVQKazdzTmRsMTYyZUE2Z1NrQUVRRUFBYlFlYldOdkxYUmxjM1FnUEcxamJ5MTBaWE4wUUhKbFpHaGhkQzVqYjIwKwppUUhVQkJNQkNBQStGaUVFM0lmRHNDQ2Z0ZkFva2I0ZUpiUGpGbWtTa2lzRkFtRzRQQ01DR3dNRkNRUENad0FGCkN3a0lCd0lHRlFvSkNBc0NCQllDQXdFQ0hnRUNGNEFBQ2drUUpiUGpGbWtTa2lzTkh3d0ExR0U2OFdrb3Q4NWIKS21OMjlaTnJGWmY5aXA1cHpENVFVTzNxaXE0R25ZbXNRMW1hWFBhd0hoa0VQREFuZTY1ZUM2QWxlbXhtV2RSbQpDZzBNTmF4endUUnhPaUI2ckVnNEpVRjdINUtFcUx6cHI1SUNNRWZORWcxaDREWkhKQXdOZWNDb2NWdHA5aFlhCmdwZzdyYU4xZG5qeVRSQXV0anpMTVp0RHVYTHM0ZU5nSWR4aTlrS003U3pIU0xOVmRtMExoU0FSSmN6ckhCQnQKQXdhS1JTbGN2aWl1L1pHVlJyUm9ML3oyNStZcEF3UlNYS1c2cXlFaWR1N2hiY2tYNkdmVzdXL3J3YUFyaFlQbAppOG9vclFib0hBY3hxYjU5VlZjN0dGY09BSjM2U050a2FIcjM3M0s0bG5QWDZ5V3lhL0VEb2RVSTY5Y3A3SitkCnhoYi9EZWJKVXFnRGJvaTVubHNad3pQZWduQXNURWF2a21VdkV0UVlJaTNOTE1DSVpMUHhlZGVIaVhwWHk5VkQKZG0yUHB5TDZ1b1V3S0tpNnZHRjFDRUszODJBYTJqUnhCY1VKTTh1UE9JR25jSmt6MElCV0lTY3FZeG1WQzVuUwoxQ0JxVDVYVGt1dGJFUlhKWkVoRWJzVVpQTVhRNEZhdUl0bEhaQVc3UDdlak9PWXhENlVHdVFHTkJHRzRQQ01CCkRBREFoL282M05tLzdFRmhSbEpldjZHamtHaXFyV3FKWVJXYXYyaFJPaVUzNWlSOHlndnJ2UkhVMHY4ZmFBenIKY3N1RTVuanJzd3dBdnhFbTNDY25Hb3g0dDFUVHkzMjRyRWMwVExTdlpuaG5XVWY2TmttSVl5aGFibkdsQUJFNApFNjJ5Y1Qwa3BCRVp1RktRZEN5Ry9WNkRhMXQ2cEF3djh2bjlEcHJtQlA4NnlYNUVBdjZGRHo3Nmk4S3YxQ1dCCmhoMjdnUDAvM2FVcVdxSEtnaUlLMllCZ0J2R2VZa3ltWkJ5SFBYZEkxSDVVRzYxaVF0SksyOTZHcDVjRit2K2wKZHZXTnc0YUFkTWdibkJQTkw5SlFnanIrcXhhL2VzbHpwWjhBZWMxVmFlRkFnL2YrdDMzOUNXb2JjblJESEh4ZApjNFg3c2l5dWlIKzdBZXJDZzRqdHJvZWY1VDAzdXU0dmFZSENBVENSUVU1aVlIQUNuY1VuYWhxQVFHVkR5aDRQCnF5cUs2OFRkbmFuak5tZE9DaUhqMis1T2JndFBJQmhRMjJUdVNydE9wKzg3d2ZJK3BNY3pnTFFOVVMwdzEzMlUKK2Z0azJSYnNyRTVIY3RWc2VPelZYODFVYzlLRzc3VnlJZks5WWNUb2pway9zdisyNjgrVFhxc25TcWxxdWZWWAowRjhBRVFFQUFZa0J2QVFZQVFnQUpoWWhCTnlIdzdBZ243WHdLSkcrSGlXejR4WnBFcElyQlFKaHVEd2pBaHNNCkJRa0R3bWNBQUFvSkVDV3o0eFpwRXBJclBTQUwvakRYOFNENy9iZEdHT0kxZnN1OENaWDAvOExUUklidTc0THcKVUsxT09IN29ySjgwMnJlczRwRjVpZDFBS3dTa2tQSHJXR25zemxGQnhLWEp4cFFkU292T2N1blJtUi84aVRzMQpOQnV2WEFma1lLdzkyL0RBd1JiYkxBejFMTHRJRU4xMFliYnU1eXgzQXdrZVRtb0xGVm1OZWV1SXNMMXFQU0h4Cm9FM1BlWE4vZFlzUm9KRTJtWGRvdDV3QklqRE8rZEVpTWw5WTdXVFFxaW5uUnVCbXU4WHNnNEVCUldWVi9iZXoKNU1KUkd5SlhkcmU5NmpUb0RxOStlRUNFMmtFVTc2djY4QjhqMUZjZ05HWDZFN1JEcEIrcnptdkpTaUUzWXhQZgpweEE0Y1puN25aTnU0RWJWY0l4cUgwWjdudmpicDhXRlhhTGN0VkUwS1NSTlNDeW5LYUdhU3o5bUZMOVBjMnhPCllsN0w0ZjUvdVBmSVliVFhKTlJUbmVEWEs4N0JlVUtpWGVDMlV5T3ZpZTZZbGNkeDdwdDVMdVV4eGp4azE1cm0KbkNvZko1c1B5QW1qQ0x4YURHVnJ2a1l6a3JMYlRNRURRcUpDQVd0ZURiL05oMXdpQ2pkTFA2enNENnZkdEJvUgpNa01nK3VoUHhEOXJaWWtoQm5QcE1zT0wrdVRONHc9PQo9TTRDbAotLS0tLUVORCBQR1AgUFVCTElDIEtFWSBCTE9DSy0tLS0tCg==
            path: /etc/machine-config-daemon/no-reboot/containers-gpg.pub
parameters:
  - name: NAME
  - name: POOL
