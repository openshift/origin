apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: sub-template
objects:
- apiVersion: operators.coreos.com/v1alpha1
  kind: Subscription
  metadata:
    name: "${SUBNAME}"
    namespace: "${SUBNAMESPACE}"
  spec:
    config:
      env:
      - name: HTTP_PROXY
        value: ${SUBHTTPPROXY}
      - name: HTTPS_PROXY
        value: ${SUBHTTPSPROXY}
      - name: NO_PROXY
        value: ${SUBNOPROXY}
    channel: "${CHANNEL}"
    installPlanApproval: "${APPROVAL}"
    name: "${OPERATORNAME}"
    source: "${SOURCENAME}"
    sourceNamespace: "${SOURCENAMESPACE}"
    startingCSV: "${STARTINGCSV}"
parameters:
- name: SUBNAME
- name: SUBNAMESPACE
- name: CHANNEL
- name: APPROVAL
  value: "Automatic"
- name: OPERATORNAME
- name: SOURCENAME
- name: SOURCENAMESPACE
  value: "openshift-marketplace"
- name: STARTINGCSV
  value: ""
- name: SUBHTTPPROXY
  value: ""
- name: SUBHTTPSPROXY
  value: ""
- name: SUBNOPROXY
  value: ""
