apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: secretstore-template
objects:
  - apiVersion: external-secrets.io/v1beta1
    kind: SecretStore
    metadata:
      name: "${NAME}"
    spec:
      provider:
        vault:
          server: "${SERVER}"
          path: "${PATH}"
          version: "${VERSION}"
          auth:
            tokenSecretRef:
              name: "${SECRETNAME}"
              key: "${ACCESSKEY}"
              
parameters:
  - name: NAME
  - name: SERVER
  - name: PATH
  - name: VERSION
    value: "v2"
  - name: SECRETNAME
    value: "vault-token"
  - name: ACCESSKEY
    value: "token"
