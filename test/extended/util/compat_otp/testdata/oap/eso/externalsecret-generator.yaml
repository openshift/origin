apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: externalsecret-template
objects:
  - apiVersion: external-secrets.io/v1beta1
    kind: ExternalSecret
    metadata:
      name: "${NAME}"
    spec:
      refreshInterval: "${REFREASHINTERVAL}"
      target:
        name: "${SECRETNAME}"
        creationPolicy: "${CREATIONPOLICY}"
      dataFrom:
      - sourceRef:
          generatorRef:
            apiVersion: generators.external-secrets.io/v1alpha1
            kind: "${GENERATORKIND}"
            name: "${GENERATOR}"
parameters:
  - name: NAME
  - name: REFREASHINTERVAL
    value: "1m"
  - name: SECRETNAME
    value: "secret-from-generator"
  - name: CREATIONPOLICY
    value: "Owner"
  - name: GENERATORKIND
  - name: GENERATOR
