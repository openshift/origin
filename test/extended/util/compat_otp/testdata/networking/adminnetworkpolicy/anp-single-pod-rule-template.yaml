apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: anp_single-namespace-rule_template
objects:
- kind: AdminNetworkPolicy
  apiVersion: policy.networking.k8s.io/v1alpha1
  metadata:
    name: "${NAME}"
  spec:
    priority: ${{PRIORITY}}
    subject:
      pods:
        namespaceSelector:
          matchLabels:
            "${SUBJECTKEY}": "${SUBJECTVAL}"
        podSelector:
           matchLabels:
            "${SUBJECTPODKEY}": "${SUBJECTPODVAL}"
    "${POLICYTYPE}":
    - name: "${RULENAME}"
      action: "${RULEACTION}"
      "${DIRECTION}":
      - pods:
          namespaceSelector:
            matchLabels:
              "${RULEKEY}": "${RULEVAL}"
          podSelector:
            matchLabels:
              "${RULEPODKEY}": "${RULEPODVAL}"
parameters:
- name: NAME 
- name: PRIORITY
- name: SUBJECTKEY
- name: SUBJECTVAL
- name: SUBJECTPODKEY
- name: SUBJECTPODVAL
- name: POLICYTYPE
- name: DIRECTION
- name: RULENAME
- name: RULEACTION
- name: RULEKEY
- name: RULEVAL
- name: RULEPODKEY
- name: RULEPODVAL
