// Code generated by applyconfiguration-gen. DO NOT EDIT.

package v1

import (
	configv1 "github.com/openshift/api/config/v1"
)

// PolicyIdentityApplyConfiguration represents a declarative configuration of the PolicyIdentity type for use
// with apply.
//
// PolicyIdentity defines image identity the signature claims about the image. When omitted, the default matchPolicy is "MatchRepoDigestOrExact".
type PolicyIdentityApplyConfiguration struct {
	// matchPolicy is a required filed specifies matching strategy to verify the image identity in the signature against the image scope.
	// Allowed values are "MatchRepoDigestOrExact", "MatchRepository", "ExactRepository", "RemapIdentity". When omitted, the default value is "MatchRepoDigestOrExact".
	// When set to "MatchRepoDigestOrExact", the identity in the signature must be in the same repository as the image identity if the image identity is referenced by a digest. Otherwise, the identity in the signature must be the same as the image identity.
	// When set to "MatchRepository", the identity in the signature must be in the same repository as the image identity.
	// When set to "ExactRepository", the exactRepository must be specified. The identity in the signature must be in the same repository as a specific identity specified by "repository".
	// When set to "RemapIdentity", the remapIdentity must be specified. The signature must be in the same as the remapped image identity. Remapped image identity is obtained by replacing the "prefix" with the specified “signedPrefix” if the the image identity matches the specified remapPrefix.
	MatchPolicy *configv1.IdentityMatchPolicy `json:"matchPolicy,omitempty"`
	// exactRepository specifies the repository that must be exactly matched by the identity in the signature.
	// exactRepository is required if matchPolicy is set to "ExactRepository". It is used to verify that the signature claims an identity matching this exact repository, rather than the original image identity.
	PolicyMatchExactRepository *PolicyMatchExactRepositoryApplyConfiguration `json:"exactRepository,omitempty"`
	// remapIdentity specifies the prefix remapping rule for verifying image identity.
	// remapIdentity is required if matchPolicy is set to "RemapIdentity". It is used to verify that the signature claims a different registry/repository prefix than the original image.
	PolicyMatchRemapIdentity *PolicyMatchRemapIdentityApplyConfiguration `json:"remapIdentity,omitempty"`
}

// PolicyIdentityApplyConfiguration constructs a declarative configuration of the PolicyIdentity type for use with
// apply.
func PolicyIdentity() *PolicyIdentityApplyConfiguration {
	return &PolicyIdentityApplyConfiguration{}
}

// WithMatchPolicy sets the MatchPolicy field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the MatchPolicy field is set to the value of the last call.
func (b *PolicyIdentityApplyConfiguration) WithMatchPolicy(value configv1.IdentityMatchPolicy) *PolicyIdentityApplyConfiguration {
	b.MatchPolicy = &value
	return b
}

// WithPolicyMatchExactRepository sets the PolicyMatchExactRepository field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the PolicyMatchExactRepository field is set to the value of the last call.
func (b *PolicyIdentityApplyConfiguration) WithPolicyMatchExactRepository(value *PolicyMatchExactRepositoryApplyConfiguration) *PolicyIdentityApplyConfiguration {
	b.PolicyMatchExactRepository = value
	return b
}

// WithPolicyMatchRemapIdentity sets the PolicyMatchRemapIdentity field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the PolicyMatchRemapIdentity field is set to the value of the last call.
func (b *PolicyIdentityApplyConfiguration) WithPolicyMatchRemapIdentity(value *PolicyMatchRemapIdentityApplyConfiguration) *PolicyIdentityApplyConfiguration {
	b.PolicyMatchRemapIdentity = value
	return b
}
